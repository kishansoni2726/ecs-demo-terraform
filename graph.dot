digraph G {
  rankdir = "RL";
  node [shape = rect, fontname = "sans-serif"];
  "data.aws_ecs_task_definition.main" [label="data.aws_ecs_task_definition.main"];
  "data.aws_iam_policy_document.assume_role_policy" [label="data.aws_iam_policy_document.assume_role_policy"];
  "aws_alb.application_load_balancer" [label="aws_alb.application_load_balancer"];
  "aws_appautoscaling_policy.ecs_policy_cpu" [label="aws_appautoscaling_policy.ecs_policy_cpu"];
  "aws_appautoscaling_policy.ecs_policy_memory" [label="aws_appautoscaling_policy.ecs_policy_memory"];
  "aws_appautoscaling_target.ecs_target" [label="aws_appautoscaling_target.ecs_target"];
  "aws_cloudwatch_log_group.log-group" [label="aws_cloudwatch_log_group.log-group"];
  "aws_docdb_cluster.docdb" [label="aws_docdb_cluster.docdb"];
  "aws_ecr_repository.ecr_repository" [label="aws_ecr_repository.ecr_repository"];
  "aws_ecs_cluster.aws-ecs-cluster" [label="aws_ecs_cluster.aws-ecs-cluster"];
  "aws_ecs_service.aws-ecs-service" [label="aws_ecs_service.aws-ecs-service"];
  "aws_ecs_task_definition.aws-ecs-task" [label="aws_ecs_task_definition.aws-ecs-task"];
  "aws_eip.nat_eip" [label="aws_eip.nat_eip"];
  "aws_iam_role.ecsTaskExecutionRole" [label="aws_iam_role.ecsTaskExecutionRole"];
  "aws_iam_role_policy_attachment.ecsTaskExecutionRole_policy" [label="aws_iam_role_policy_attachment.ecsTaskExecutionRole_policy"];
  "aws_internet_gateway.gw" [label="aws_internet_gateway.gw"];
  "aws_lb_listener.listener" [label="aws_lb_listener.listener"];
  "aws_lb_target_group.target_group" [label="aws_lb_target_group.target_group"];
  "aws_nat_gateway.nat" [label="aws_nat_gateway.nat"];
  "aws_route_table.private_rt" [label="aws_route_table.private_rt"];
  "aws_route_table.public_rt" [label="aws_route_table.public_rt"];
  "aws_route_table_association.private_subnet_asso" [label="aws_route_table_association.private_subnet_asso"];
  "aws_route_table_association.public_subnet_asso" [label="aws_route_table_association.public_subnet_asso"];
  "aws_security_group.load_balancer_security_group" [label="aws_security_group.load_balancer_security_group"];
  "aws_security_group.service_security_group" [label="aws_security_group.service_security_group"];
  "aws_subnet.private_subnets" [label="aws_subnet.private_subnets"];
  "aws_subnet.public_subnets" [label="aws_subnet.public_subnets"];
  "aws_vpc.main" [label="aws_vpc.main"];
  "data.aws_ecs_task_definition.main" -> "aws_ecs_task_definition.aws-ecs-task";
  "aws_alb.application_load_balancer" -> "aws_security_group.load_balancer_security_group";
  "aws_alb.application_load_balancer" -> "aws_subnet.public_subnets";
  "aws_appautoscaling_policy.ecs_policy_cpu" -> "aws_appautoscaling_target.ecs_target";
  "aws_appautoscaling_policy.ecs_policy_memory" -> "aws_appautoscaling_target.ecs_target";
  "aws_appautoscaling_target.ecs_target" -> "aws_ecs_service.aws-ecs-service";
  "aws_ecs_service.aws-ecs-service" -> "data.aws_ecs_task_definition.main";
  "aws_ecs_service.aws-ecs-service" -> "aws_ecs_cluster.aws-ecs-cluster";
  "aws_ecs_service.aws-ecs-service" -> "aws_lb_listener.listener";
  "aws_ecs_service.aws-ecs-service" -> "aws_security_group.service_security_group";
  "aws_ecs_service.aws-ecs-service" -> "aws_subnet.private_subnets";
  "aws_ecs_task_definition.aws-ecs-task" -> "aws_cloudwatch_log_group.log-group";
  "aws_ecs_task_definition.aws-ecs-task" -> "aws_ecr_repository.ecr_repository";
  "aws_ecs_task_definition.aws-ecs-task" -> "aws_iam_role.ecsTaskExecutionRole";
  "aws_eip.nat_eip" -> "aws_internet_gateway.gw";
  "aws_iam_role.ecsTaskExecutionRole" -> "data.aws_iam_policy_document.assume_role_policy";
  "aws_iam_role_policy_attachment.ecsTaskExecutionRole_policy" -> "aws_iam_role.ecsTaskExecutionRole";
  "aws_internet_gateway.gw" -> "aws_vpc.main";
  "aws_lb_listener.listener" -> "aws_alb.application_load_balancer";
  "aws_lb_listener.listener" -> "aws_lb_target_group.target_group";
  "aws_lb_target_group.target_group" -> "aws_vpc.main";
  "aws_nat_gateway.nat" -> "aws_eip.nat_eip";
  "aws_nat_gateway.nat" -> "aws_subnet.public_subnets";
  "aws_route_table.private_rt" -> "aws_nat_gateway.nat";
  "aws_route_table.public_rt" -> "aws_internet_gateway.gw";
  "aws_route_table_association.private_subnet_asso" -> "aws_route_table.private_rt";
  "aws_route_table_association.private_subnet_asso" -> "aws_subnet.private_subnets";
  "aws_route_table_association.public_subnet_asso" -> "aws_route_table.public_rt";
  "aws_route_table_association.public_subnet_asso" -> "aws_subnet.public_subnets";
  "aws_security_group.load_balancer_security_group" -> "aws_vpc.main";
  "aws_security_group.service_security_group" -> "aws_security_group.load_balancer_security_group";
  "aws_subnet.private_subnets" -> "aws_vpc.main";
  "aws_subnet.public_subnets" -> "aws_vpc.main";
}
